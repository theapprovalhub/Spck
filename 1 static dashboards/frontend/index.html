<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choice Properties - Rental Application</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-building"></i>
                    <div class="logo-text" data-i18n="logoText">Choice Properties</div>
                </div>
                <div class="tagline" data-i18n="tagline">Professional Property Management Solutions</div>
            </div>
            <div class="header-right">
                <div class="confidential-stamp" data-i18n="confidentialStamp">
                    <i class="fas fa-lock"></i> CONFIDENTIAL & SECURE
                </div>
                <div class="language-toggle">
                    <button type="button" id="langToggle">
                        <i class="fas fa-language"></i> <span id="langText" data-i18n="langText">EspaÃ±ol</span>
                    </button>
                </div>
                <div class="trust-indicator" data-i18n="trustIndicator">
                    <i class="fas fa-shield-alt" title="Secure Connection"></i>
                    <span>Your information is encrypted and protected</span>
                </div>
                <div class="time-estimate" data-i18n="timeEstimate">
                    <i class="fas fa-clock"></i> <span>Estimated time: 15-20 minutes</span>
                </div>
            </div>
        </header>

        <div class="progress-container" data-progress-text="Step 1 of 6: Property & Applicant">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
                <div class="progress-step completed" id="step1">
                    <div class="step-number">1</div>
                    <div class="step-label" data-i18n="step1Label">Property & Applicant</div>
                </div>
                <div class="progress-step active" id="step2">
                    <div class="step-number">2</div>
                    <div class="step-label" data-i18n="step2Label">Residency & Occupancy</div>
                </div>
                <div class="progress-step" id="step3">
                    <div class="step-number">3</div>
                    <div class="step-label" data-i18n="step3Label">Employment & Income</div>
                </div>
                <div class="progress-step" id="step4">
                    <div class="step-number">4</div>
                    <div class="step-label" data-i18n="step4Label">Financial & References</div>
                </div>
                <div class="progress-step" id="step5">
                    <div class="step-number">5</div>
                    <div class="step-label" data-i18n="step5Label">Payment Preferences</div>
                </div>
                <div class="progress-step" id="step6">
                    <div class="step-number">6</div>
                    <div class="step-label" data-i18n="step6Label">Review & Submit</div>
                </div>
            </div>
        </div>

        <!-- Submission Progress State -->
        <div class="submission-progress" id="submissionProgress">
            <div class="progress-steps">
                <div class="progress-step-indicator">
                    <div class="step-indicator active" id="step1Indicator">1</div>
                    <div data-i18n="processing">Processing</div>
                </div>
                <div class="progress-step-indicator">
                    <div class="step-indicator" id="step2Indicator">2</div>
                    <div data-i18n="validating">Validating</div>
                </div>
                <div class="progress-step-indicator">
                    <div class="step-indicator" id="step3Indicator">3</div>
                    <div data-i18n="submitting">Submitting</div>
                </div>
                <div class="progress-step-indicator">
                    <div class="step-indicator" id="step4Indicator">4</div>
                    <div data-i18n="complete">Complete</div>
                </div>
            </div>
            <h3><i class="fas fa-spinner fa-spin pulse"></i> <span data-i18n="submittingTitle">Submitting Your Application</span></h3>
            <p id="submissionMessage" data-i18n="submissionMessage">Please don't close this window. This may take a few moments...</p>
        </div>

        <!-- Success State -->
        <div class="success-state" id="successState">
            <div class="success-card">
                <div class="success-header">
                    <i class="fas fa-check-circle"></i>
                    <h2 data-i18n="successTitle">Application Received</h2>
                    <p class="success-subtitle" data-i18n="successText">Thank you for choosing Choice Properties</p>
                </div>
                <div class="id-section">
                    <div class="id-label" data-i18n="appId">Your Application ID</div>
                    <div class="id-number" id="successAppId">CP-20260216-ABCDEF</div>
                    <button class="copy-btn" onclick="copyAppId()">
                        <i class="fas fa-copy"></i> <span data-i18n="clickToCopy">Copy ID</span>
                    </button>
                </div>
                <div class="divider"></div>
                <div class="next-steps-box">
                    <h3><i class="fas fa-clock"></i> <span data-i18n="immediateNextSteps">Immediate Next Steps</span></h3>
                    <div class="step-row">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <strong data-i18n="paymentRequiredTitle">Payment Required Before Review</strong>
                            <p data-i18n="paymentRequiredDesc">Our team will contact you shortly at the phone number provided to arrange the $50 application fee.</p>
                        </div>
                    </div>
                    <div class="step-row">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <strong data-i18n="completePaymentTitle">Complete Payment</strong>
                            <p data-i18n="completePaymentDesc">Your application is not complete until the $50 fee has been paid. We'll discuss payment options you're familiar with.</p>
                        </div>
                    </div>
                    <div class="step-row">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <strong data-i18n="reviewBeginsTitle">Review Begins</strong>
                            <p data-i18n="reviewBeginsDesc">Once payment is confirmed, your application enters the formal review process. You can track status online with your ID.</p>
                        </div>
                    </div>
                </div>
                <div class="urgent-notice">
                    <i class="fas fa-exclamation-circle"></i>
                    <p><strong data-i18n="importantNote">Important:</strong> <span data-i18n="paymentUrgentText">Your application is not complete until the $50 fee has been paid. Please keep your phone nearby.</span></p>
                </div>
                <div class="preference-summary">
                    <h4><i class="fas fa-clipboard-list"></i> <span data-i18n="yourPreferences">Your Preferences (For Follow-up After Payment)</span></h4>
                    <div class="preference-grid">
                        <div class="pref-item">
                            <span class="pref-label" data-i18n="contactMethod">Contact Method:</span>
                            <span class="pref-value" id="summaryContactMethod">Text Message, Email</span>
                        </div>
                        <div class="pref-item">
                            <span class="pref-label" data-i18n="bestTimes">Best Times:</span>
                            <span class="pref-value" id="summaryContactTimes">Mornings, Evenings</span>
                        </div>
                        <div class="pref-item">
                            <span class="pref-label" data-i18n="paymentPref">Payment Preferences:</span>
                            <span class="pref-value" id="summaryPaymentPrefs">Venmo, PayPal</span>
                        </div>
                    </div>
                    <p class="pref-note" data-i18n="preferenceNote">We'll use these for non-urgent follow-up after your payment is complete.</p>
                </div>
                <div class="policy-box">
                    <i class="fas fa-gem"></i>
                    <div>
                        <strong data-i18n="reapplicationPolicyTitle">Reapplication Protection</strong>
                        <p data-i18n="reapplicationPolicyText">If your application is denied, you may apply for any other available property within 30 days â€” no new application fee. Your screening results remain valid for 60 days.</p>
                    </div>
                </div>
                <div class="action-buttons">
                    <a href="?path=dashboard&id=" class="btn-track">  <!-- This will be updated by JS -->
                        <i class="fas fa-chart-line"></i> <span data-i18n="trackStatus">Track My Application</span>
                    </a>
                    <button onclick="location.reload()" class="btn-new">
                        <i class="fas fa-plus"></i> <span data-i18n="newApplication">New Application</span>
                    </button>
                </div>
                <div class="help-line">
                    <span data-i18n="questions">Questions? Call or text</span> <strong>707-706-3137</strong> â€” <span data-i18n="helpText">we're here to help.</span>
                </div>
            </div>
        </div>

        <form id="rentalApplication" enctype="multipart/form-data">
            <input type="hidden" name="Application ID" id="formApplicationId">

            <!-- ===== STEP 1: Property & Applicant Details ===== -->
            <div class="form-section active" id="section1">
                <div class="process-explainer">
                    <div class="explainer-card">
                        <div class="explainer-icon">ðŸ“‹</div>
                        <div class="explainer-content">
                            <h4 data-i18n="step1YouSubmit">1. You Submit</h4>
                            <p data-i18n="step1Desc">Fill out your application completely</p>
                        </div>
                    </div>
                    <div class="explainer-arrow">â†’</div>
                    <div class="explainer-card">
                        <div class="explainer-icon">ðŸ’°</div>
                        <div class="explainer-content">
                            <h4 data-i18n="step2PaymentArranged">2. Payment Arranged</h4>
                            <p data-i18n="step2Desc">We contact you for the $50 fee</p>
                        </div>
                    </div>
                    <div class="explainer-arrow">â†’</div>
                    <div class="explainer-card">
                        <div class="explainer-icon">âœ…</div>
                        <div class="explainer-content">
                            <h4 data-i18n="step3ReviewBegins">3. Review Begins</h4>
                            <p data-i18n="step3Desc">After payment, we review your application</p>
                        </div>
                    </div>
                </div>

                <h2><i class="fas fa-home"></i> <span data-i18n="propertyHeader">Property & Applicant Details</span></h2>

                <h3 data-i18n="propertyInfo">Property Information</h3>
                <div class="form-group">
                    <label class="required" for="propertyAddress" data-i18n="propertyAddressLabel">Property Address Applying For</label>
                    <input type="text" id="propertyAddress" name="Property Address" required placeholder="Street address, city, state, zip" data-i18n="propertyAddressPlaceholder">
                    <div class="error-message" data-i18n="errAddress">Please enter the property address</div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="requestedMoveIn" data-i18n="moveInLabel">Requested Move-in Date</label>
                            <input type="date" id="requestedMoveIn" name="Requested Move-in Date" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="desiredLeaseTerm" data-i18n="leaseTermLabel">Desired Lease Term</label>
                            <select id="desiredLeaseTerm" name="Desired Lease Term" required>
                                <option value="" data-i18n="selectTerm">Select term...</option>
                                <option value="6 months" data-i18n="months6">6 Months</option>
                                <option value="12 months" data-i18n="months12">12 Months</option>
                                <option value="18 months" data-i18n="months18">18 Months</option>
                                <option value="24 months" data-i18n="months24">24 Months</option>
                                <option value="Month-to-month" data-i18n="monthToMonth">Month-to-month</option>
                            </select>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <h3 data-i18n="primaryApplicantInfo">Primary Applicant Information</h3>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="firstName" data-i18n="firstNameLabel">First Name</label>
                            <input type="text" id="firstName" name="First Name" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="lastName" data-i18n="lastNameLabel">Last Name</label>
                            <input type="text" id="lastName" name="Last Name" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="email" data-i18n="emailLabel">Email Address</label>
                            <input type="email" id="email" name="Email" required placeholder="email@example.com" data-i18n="emailPlaceholder">
                            <div class="field-hint" data-i18n="emailHint">
                                <i class="fas fa-info-circle"></i>
                                Make sure the provided email is correct and accessible. Confirmation and updates sent here.
                            </div>
                            <div class="error-message" data-i18n="errEmail">Invalid email</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="phone" data-i18n="phoneLabel">Phone Number</label>
                            <input type="tel" id="phone" name="Phone" required placeholder="(555) 000-0000" data-i18n="phonePlaceholder">
                            <div class="field-hint" data-i18n="phoneHint">
                                <i class="fas fa-info-circle"></i>
                                Our team will contact you here.
                            </div>
                            <div class="error-message" data-i18n="errPhone">Invalid phone</div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="dob" data-i18n="dobLabel">Date of Birth</label>
                            <input type="date" id="dob" name="DOB" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="ssn" data-i18n="ssnLabel">Social Security Number (Last 4 Digits)</label>
                            <div class="field-hint ssn-hint" data-i18n="ssnHint">
                                <i class="fas fa-lock"></i> Only last 4 digits required
                            </div>
                            <div class="ssn-container">
                                <input type="password" id="ssn" name="SSN" placeholder="1234" maxlength="4" inputmode="numeric" required data-i18n="ssnPlaceholder">
                            </div>
                            <div class="error-message"></div>
                        </div>
                    </div>
                </div>

                <!-- ===== IMPROVED CO-APPLICANT / GUARANTOR SECTION ===== -->
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="hasCoApplicant" name="Has Co-Applicant" value="Yes">
                        <span data-i18n="coApplicantCheckbox">I have a co-applicant or guarantor</span>
                    </label>
                </div>

                <div id="coApplicantSection" style="display: none;">
                    <h4 data-i18n="coApplicantInfo">Additional Person Information</h4>

                    <!-- Role selection -->
                    <div class="form-group">
                        <label data-i18n="coRoleLabel">Role <span class="field-hint">(Select one)</span></label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="radio" id="roleCoApplicant" name="Additional Person Role" value="Co-applicant" checked>
                                <label for="roleCoApplicant" data-i18n="roleCoApplicant">Co-applicant (will live in the unit)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="radio" id="roleGuarantor" name="Additional Person Role" value="Guarantor">
                                <label for="roleGuarantor" data-i18n="roleGuarantor">Guarantor (financial backup only)</label>
                            </div>
                        </div>
                        <div class="error-message"></div>
                    </div>

                    <!-- Personal details -->
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coFirstName" data-i18n="coFirstNameLabel">First Name</label>
                                <input type="text" id="coFirstName" name="Co-Applicant First Name">
                                <div class="error-message"></div>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coLastName" data-i18n="coLastNameLabel">Last Name</label>
                                <input type="text" id="coLastName" name="Co-Applicant Last Name">
                                <div class="error-message"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coEmail" data-i18n="coEmailLabel">Email</label>
                                <input type="email" id="coEmail" name="Co-Applicant Email">
                                <div class="error-message"></div>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coPhone" data-i18n="coPhoneLabel">Phone</label>
                                <input type="tel" id="coPhone" name="Co-Applicant Phone">
                                <div class="error-message"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coDob" data-i18n="coDobLabel">Date of Birth</label>
                                <input type="date" id="coDob" name="Co-Applicant DOB">
                                <div class="error-message"></div>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coSsn" data-i18n="coSsnLabel">SSN (Last 4)</label>
                                <div class="ssn-container">
                                    <input type="password" id="coSsn" name="Co-Applicant SSN" maxlength="4" inputmode="numeric">
                                </div>
                                <div class="error-message"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Employment & Income -->
                    <h5 data-i18n="employmentIncome">Employment & Income</h5>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coEmployer" data-i18n="coEmployerLabel">Employer</label>
                                <input type="text" id="coEmployer" name="Co-Applicant Employer">
                                <div class="error-message"></div>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coJobTitle" data-i18n="coJobTitleLabel">Job Title</label>
                                <input type="text" id="coJobTitle" name="Co-Applicant Job Title">
                                <div class="error-message"></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coMonthlyIncome" data-i18n="coMonthlyIncomeLabel">Gross Monthly Income ($)</label>
                                <input type="text" id="coMonthlyIncome" name="Co-Applicant Monthly Income" placeholder="e.g., 4000" data-i18n="coMonthlyIncomePlaceholder">
                                <div class="error-message"></div>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="coEmploymentDuration" data-i18n="coEmploymentDurationLabel">Length of Employment</label>
                                <input type="text" id="coEmploymentDuration" name="Co-Applicant Employment Duration" placeholder="e.g., 2 years" data-i18n="coEmploymentDurationPlaceholder">
                                <div class="error-message"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Consent -->
                    <div class="form-group">
                        <div class="custom-checkbox">
                            <input type="checkbox" id="coConsent" name="Co-Applicant Consent">
                            <label for="coConsent" data-i18n="coConsentLabel">I authorise verification of the information provided for this additional person, including credit and background check.</label>
                        </div>
                        <div class="error-message"></div>
                    </div>
                </div>
                <!-- ===== END CO-APPLICANT SECTION ===== -->

                <!-- Contact Preferences -->
                <div class="contact-preferences">
                    <h4><i class="fas fa-phone-alt"></i> <span data-i18n="contactPrefsHeader">Contact Preferences (For Follow-up After Payment)</span></h4>

                    <div class="form-group">
                        <label class="required" data-i18n="prefContactMethod">Preferred Contact Method</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="contactMethodText" name="Preferred Contact Method" value="Text Message">
                                <label for="contactMethodText" data-i18n="contactMethodText">Text Message</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="contactMethodEmail" name="Preferred Contact Method" value="Email">
                                <label for="contactMethodEmail" data-i18n="contactMethodEmail">Email</label>
                            </div>
                        </div>
                        <div class="field-hint" data-i18n="contactMethodHint">You can select both methods</div>
                    </div>

                    <div class="form-group">
                        <label class="required" data-i18n="availabilityLabel">Availability for Follow-up (After Payment)</label>
                        <div class="time-categories">
                            <div class="time-category">
                                <h5 data-i18n="weekdays">Weekdays</h5>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="timeMorning" name="Preferred Time" value="Morning (8am-11am)">
                                    <label for="timeMorning" data-i18n="timeMorning">Morning (8am-11am)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="timeMidday" name="Preferred Time" value="Midday (11am-2pm)">
                                    <label for="timeMidday" data-i18n="timeMidday">Midday (11am-2pm)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="timeAfternoon" name="Preferred Time" value="Afternoon (2pm-5pm)">
                                    <label for="timeAfternoon" data-i18n="timeAfternoon">Afternoon (2pm-5pm)</label>
                                </div>
                            </div>
                            <div class="time-category">
                                <h5 data-i18n="eveningsWeekends">Evenings & Weekends</h5>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="timeEarlyEvening" name="Preferred Time" value="Early Evening (5pm-8pm)">
                                    <label for="timeEarlyEvening" data-i18n="timeEarlyEvening">Early Evening (5pm-8pm)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="timeLateEvening" name="Preferred Time" value="Late Evening (8pm-10pm)">
                                    <label for="timeLateEvening" data-i18n="timeLateEvening">Late Evening (8pm-10pm)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="timeWeekend" name="Preferred Time" value="Weekend">
                                    <label for="timeWeekend" data-i18n="timeWeekend">Weekend</label>
                                </div>
                            </div>
                            <div class="time-category">
                                <h5 data-i18n="flexible">Flexible</h5>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="timeAnytime" name="Preferred Time" value="Anytime">
                                    <label for="timeAnytime" data-i18n="timeAnytime">Anytime â€” I'm flexible</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="contactTimeSpecific" data-i18n="additionalNotesLabel">Additional Notes (Optional)</label>
                        <input type="text" id="contactTimeSpecific" name="Preferred Time Specific"
                               placeholder="e.g., Best after 7pm, avoid Wednesdays" data-i18n="additionalNotesPlaceholder">
                    </div>

                    <div class="note">
                        <i class="fas fa-info-circle"></i>
                        <span data-i18n="preferencesNote">These preferences are for non-urgent follow-up after your payment is complete.</span>
                    </div>
                </div>

                <div class="btn-container">
                    <div></div>
                    <button type="button" class="btn-next"><span data-i18n="nextStep">Next Step</span> <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- ===== STEP 2: Residency & Occupancy ===== -->
            <div class="form-section" id="section2">
                <h2><i class="fas fa-map-marker-alt"></i> <span data-i18n="residencyHeader">Residency & Occupancy</span></h2>

                <h3 data-i18n="currentResidence">Current Residence</h3>
                <div class="form-group">
                    <label class="required" for="currentAddress" data-i18n="currentAddressLabel">Current Address</label>
                    <input type="text" id="currentAddress" name="Current Address" required placeholder="Street, Unit #, City, State, Zip" data-i18n="currentAddressPlaceholder">
                    <div class="error-message" data-i18n="errRequired">Required</div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="residencyStart" data-i18n="residencyStartLabel">How long at this address?</label>
                            <input type="text" id="residencyStart" name="Residency Duration" required placeholder="e.g., 2 years 3 months" data-i18n="residencyStartPlaceholder">
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="rentAmount" data-i18n="rentAmountLabel">Current Rent/Mortgage Amount</label>
                            <input type="text" id="rentAmount" name="Current Rent Amount" required placeholder="$" data-i18n="rentAmountPlaceholder">
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="required" for="reasonLeaving" data-i18n="reasonLeavingLabel">Reason for leaving</label>
                    <textarea id="reasonLeaving" name="Reason for leaving" required rows="2"></textarea>
                    <div class="error-message" data-i18n="errRequired">Required</div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="landlordName" data-i18n="landlordNameLabel">Current Landlord/Property Manager Name</label>
                            <input type="text" id="landlordName" name="Current Landlord Name" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="landlordPhone" data-i18n="landlordPhoneLabel">Landlord/Property Manager Phone</label>
                            <input type="tel" id="landlordPhone" name="Landlord Phone" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <h3 data-i18n="occupantsPets">Occupants & Pets</h3>
                <div class="form-group">
                    <label for="totalOccupants" data-i18n="totalOccupantsLabel">Number of total occupants (including children)</label>
                    <input type="number" id="totalOccupants" name="Total Occupants" min="1" value="1">
                </div>

                <div class="form-group">
                    <label for="occupantNames" data-i18n="occupantNamesLabel">Names and ages of all other occupants</label>
                    <textarea id="occupantNames" name="Additional Occupants" rows="2"
                              placeholder="List names, ages, and relationship (e.g., Jane Doe, 7, daughter)" data-i18n="occupantNamesPlaceholder"></textarea>
                </div>

                <div class="form-group">
                    <label data-i18n="hasPetsLabel">Do you have any pets?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="radio" id="petsYes" name="Has Pets" value="Yes">
                            <label for="petsYes" data-i18n="yes">Yes</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="petsNo" name="Has Pets" value="No" checked>
                            <label for="petsNo" data-i18n="no">No</label>
                        </div>
                    </div>
                </div>

                <div class="form-group" id="petDetailsGroup" style="display: none;">
                    <label for="petDetails" data-i18n="petDetailsLabel">Pet details (type, breed, weight)</label>
                    <textarea id="petDetails" name="Pet Details" rows="2" placeholder="Describe your pets..." data-i18n="petDetailsPlaceholder"></textarea>
                </div>

                <!-- Vehicle Information -->
                <h3 data-i18n="vehicleInfo">Vehicle Information</h3>
                <div class="form-group">
                    <label data-i18n="hasVehicleLabel">Do you have a vehicle?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="radio" id="vehicleYes" name="Has Vehicle" value="Yes">
                            <label for="vehicleYes" data-i18n="yes">Yes</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="vehicleNo" name="Has Vehicle" value="No" checked>
                            <label for="vehicleNo" data-i18n="no">No</label>
                        </div>
                    </div>
                </div>

                <div id="vehicleDetailsSection" style="display: none;">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="vehicleMake" data-i18n="vehicleMakeLabel">Make</label>
                                <input type="text" id="vehicleMake" name="Vehicle Make">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="vehicleModel" data-i18n="vehicleModelLabel">Model</label>
                                <input type="text" id="vehicleModel" name="Vehicle Model">
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="vehicleYear" data-i18n="vehicleYearLabel">Year</label>
                                <input type="text" id="vehicleYear" name="Vehicle Year" placeholder="e.g., 2020" data-i18n="vehicleYearPlaceholder">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="vehiclePlate" data-i18n="vehiclePlateLabel">License Plate (Optional)</label>
                                <input type="text" id="vehiclePlate" name="Vehicle License Plate">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="btn-container">
                    <button type="button" class="btn-prev"><i class="fas fa-arrow-left"></i> <span data-i18n="prevStep">Previous</span></button>
                    <button type="button" class="btn-next"><span data-i18n="nextStep">Next Step</span> <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- ===== STEP 3: Employment & Income ===== -->
            <div class="form-section" id="section3">
                <h2><i class="fas fa-briefcase"></i> <span data-i18n="employmentHeader">Employment & Income</span></h2>

                <h3 data-i18n="currentEmployment">Current Employment</h3>
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="employmentStatus" data-i18n="employmentStatusLabel">Employment Status</label>
                            <select id="employmentStatus" name="Employment Status" required>
                                <option value="" data-i18n="selectStatus">Select status...</option>
                                <option value="Full-time" data-i18n="fullTime">Full-time</option>
                                <option value="Part-time" data-i18n="partTime">Part-time</option>
                                <option value="Self-employed" data-i18n="selfEmployed">Self-employed</option>
                                <option value="Student" data-i18n="student">Student</option>
                                <option value="Retired" data-i18n="retired">Retired</option>
                                <option value="Unemployed" data-i18n="unemployed">Unemployed</option>
                            </select>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="employer" data-i18n="employerLabel">Employer</label>
                            <input type="text" id="employer" name="Employer" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="jobTitle" data-i18n="jobTitleLabel">Job Title</label>
                            <input type="text" id="jobTitle" name="Job Title" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="employmentDuration" data-i18n="employmentDurationLabel">How long at this job?</label>
                            <input type="text" id="employmentDuration" name="Employment Duration" required placeholder="e.g., 3 years" data-i18n="employmentDurationPlaceholder">
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="supervisorName" data-i18n="supervisorNameLabel">Supervisor Name</label>
                            <input type="text" id="supervisorName" name="Supervisor Name" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="supervisorPhone" data-i18n="supervisorPhoneLabel">Supervisor Phone</label>
                            <input type="tel" id="supervisorPhone" name="Supervisor Phone" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <h3 data-i18n="incomeVerification">Income Information</h3>
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="monthlyIncome" data-i18n="monthlyIncomeLabel">Gross Monthly Income</label>
                            <input type="text" id="monthlyIncome" name="Monthly Income" required placeholder="$" data-i18n="monthlyIncomePlaceholder">
                            <div class="field-hint" data-i18n="incomeHint">Before taxes and deductions</div>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="otherIncome" data-i18n="otherIncomeLabel">Additional Monthly Income (Optional)</label>
                            <input type="text" id="otherIncome" name="Other Income" placeholder="$" data-i18n="otherIncomePlaceholder">
                            <div class="field-hint" data-i18n="otherIncomeHint">Child support, disability, etc.</div>
                        </div>
                    </div>
                </div>

                <div id="incomeRatioResult" class="income-ratio" style="display: none;">
                    <div class="income-ratio-label" data-i18n="incomeRatioLabel">Income-to-Rent Ratio:</div>
                    <div class="income-ratio-value" id="ratioDisplay">0x</div>
                </div>

                <div class="btn-container">
                    <button type="button" class="btn-prev"><i class="fas fa-arrow-left"></i> <span data-i18n="prevStep">Previous</span></button>
                    <button type="button" class="btn-next"><span data-i18n="nextStep">Next Step</span> <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- ===== STEP 4: Financial & References ===== -->
            <div class="form-section" id="section4">
                <h2><i class="fas fa-list-ul"></i> <span data-i18n="financialHeader">References & Emergency Contact</span></h2>

                <h3 data-i18n="personalReferences">Personal References</h3>
                

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="ref1Name" data-i18n="ref1NameLabel">Reference 1 Name</label>
                            <input type="text" id="ref1Name" name="Reference 1 Name" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="ref1Phone" data-i18n="ref1PhoneLabel">Reference 1 Phone</label>
                            <input type="tel" id="ref1Phone" name="Reference 1 Phone" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="ref2Name" data-i18n="ref2NameLabel">Reference 2 Name (Optional)</label>
                            <input type="text" id="ref2Name" name="Reference 2 Name">
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="ref2Phone" data-i18n="ref2PhoneLabel">Reference 2 Phone (Optional)</label>
                            <input type="tel" id="ref2Phone" name="Reference 2 Phone">
                        </div>
                    </div>
                </div>

                <h3 data-i18n="emergencyInfo">Emergency Contact</h3>
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="emergencyName" data-i18n="emergencyNameLabel">Emergency Contact Name</label>
                            <input type="text" id="emergencyName" name="Emergency Contact Name" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label class="required" for="emergencyPhone" data-i18n="emergencyPhoneLabel">Emergency Contact Phone</label>
                            <input type="tel" id="emergencyPhone" name="Emergency Contact Phone" required>
                            <div class="error-message" data-i18n="errRequired">Required</div>
                        </div>
                    </div>
                </div>

                <!-- Emergency Contact Relationship -->
                <div class="form-group">
                    <label for="emergencyRelationship" data-i18n="emergencyRelationshipLabel">Relationship to you</label>
                    <input type="text" id="emergencyRelationship" name="Emergency Contact Relationship" placeholder="e.g., Spouse, Parent, Friend" data-i18n="emergencyRelationshipPlaceholder">
                </div>

                <h3 data-i18n="additionalInfo">Additional Information</h3>
                <div class="form-group">
                    <label data-i18n="evictedLabel">Have you ever been evicted?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="radio" id="evictedYes" name="Ever Evicted" value="Yes">
                            <label for="evictedYes" data-i18n="yes">Yes</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="evictedNo" name="Ever Evicted" value="No" checked>
                            <label for="evictedNo" data-i18n="no">No</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label data-i18n="smokerLabel">Do you smoke?</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="radio" id="smokeYes" name="Smoker" value="Yes">
                            <label for="smokeYes" data-i18n="yes">Yes</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="radio" id="smokeNo" name="Smoker" value="No" checked>
                            <label for="smokeNo" data-i18n="no">No</label>
                        </div>
                    </div>
                </div>

                <div class="btn-container">
                    <button type="button" class="btn-prev"><i class="fas fa-arrow-left"></i> <span data-i18n="prevStep">Previous</span></button>
                    <button type="button" class="btn-next"><span data-i18n="nextStep">Next Step</span> <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- ===== STEP 5: Payment Preferences ===== -->
            <div class="form-section" id="section5">
                <h2><i class="fas fa-credit-card"></i> <span data-i18n="paymentHeader">Payment Preferences</span></h2>

                <div class="payment-section-intro">
                    <p data-i18n="paymentIntro">Tell us which payment services you use. When we contact you about the $50 application fee, we'll discuss options you're familiar with.</p>
                    <div class="important">
                        <i class="fas fa-exclamation-circle"></i>
                        <span data-i18n="paymentImportant">Payment must be completed before your application can be reviewed. Our team will contact you promptly after submission to arrange this.</span>
                    </div>
                </div>

                <div class="payment-card">
                    <div class="card-badge" data-i18n="primaryPref">Primary Preference</div>
                    <h4 data-i18n="mainPaymentMethod">Your Main Payment Method</h4>
                    <p data-i18n="mainPaymentDesc">Which payment service do you use most often?</p>

                    <div class="form-group">
                        <select id="primaryPayment" name="Primary Payment Method" required class="payment-selector">
                            <option value="" data-i18n="selectPrimary">â€” Select your primary method â€”</option>
                            <option value="Venmo">Venmo</option>
                            <option value="PayPal">PayPal</option>
                            <option value="Cash App">Cash App</option>
                            <option value="Apple Pay">Apple Pay</option>
                            <option value="Zelle">Zelle</option>
                            <option value="Chime">Chime</option>
                            <option value="Credit / Debit Card">Credit / Debit Card</option>
                            <option value="Cryptocurrency">Cryptocurrency</option>
                            <option value="Other" data-i18n="other">Other</option>
                        </select>
                        <div id="primaryPaymentOtherContainer" class="other-payment-input" style="display:none;">
                            <input type="text" id="primaryPaymentOther" name="Primary Payment Method Other" placeholder="Enter payment method" data-i18n="otherPaymentPlaceholder">
                        </div>
                    </div>
                </div>

                <div class="payment-card optional">
                    <div class="card-badge" data-i18n="backupPref">Backup Options (Optional)</div>
                    <h4 data-i18n="otherMethods">Other Methods You Use</h4>
                    <p data-i18n="otherMethodsDesc">If your primary isn't available, what else works for you?</p>

                    <div class="form-group">
                        <label for="secondaryPayment" data-i18n="secondaryMethod">Secondary Method</label>
                        <select id="secondaryPayment" name="Alternative Payment Method" class="payment-selector">
                            <option value="" data-i18n="selectBackup">â€” Select a backup (optional) â€”</option>
                            <option value="Venmo">Venmo</option>
                            <option value="PayPal">PayPal</option>
                            <option value="Cash App">Cash App</option>
                            <option value="Apple Pay">Apple Pay</option>
                            <option value="Zelle">Zelle</option>
                            <option value="Chime">Chime</option>
                            <option value="Credit / Debit Card">Credit / Debit Card</option>
                            <option value="Cryptocurrency">Cryptocurrency</option>
                            <option value="Other" data-i18n="other">Other</option>
                        </select>
                        <div id="secondaryPaymentOtherContainer" class="other-payment-input" style="display:none;">
                            <input type="text" id="secondaryPaymentOther" name="Alternative Payment Method Other" placeholder="Enter payment method" data-i18n="otherPaymentPlaceholder">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="thirdPayment" data-i18n="thirdMethod">Third Method (Optional)</label>
                        <select id="thirdPayment" name="Third Choice Payment Method" class="payment-selector">
                            <option value="" data-i18n="selectAnother">â€” Select another (optional) â€”</option>
                            <option value="Venmo">Venmo</option>
                            <option value="PayPal">PayPal</option>
                            <option value="Cash App">Cash App</option>
                            <option value="Apple Pay">Apple Pay</option>
                            <option value="Zelle">Zelle</option>
                            <option value="Chime">Chime</option>
                            <option value="Credit / Debit Card">Credit / Debit Card</option>
                            <option value="Cryptocurrency">Cryptocurrency</option>
                            <option value="Other" data-i18n="other">Other</option>
                        </select>
                        <div id="thirdPaymentOtherContainer" class="other-payment-input" style="display:none;">
                            <input type="text" id="thirdPaymentOther" name="Third Choice Payment Method Other" placeholder="Enter payment method" data-i18n="otherPaymentPlaceholder">
                        </div>
                    </div>
                </div>

                <div id="paymentDuplicateWarning" class="error-message" data-i18n="duplicateWarning">
                    <i class="fas fa-exclamation-circle"></i> Please select different payment methods for each choice.
                </div>

                <div class="btn-container">
                    <button type="button" class="btn-prev"><i class="fas fa-arrow-left"></i> <span data-i18n="prevStep">Previous</span></button>
                    <button type="button" class="btn-next"><span data-i18n="nextStep">Next Step</span> <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- ===== STEP 6: Review & Submit ===== -->
            <div class="form-section" id="section6">
                <h2><i class="fas fa-check-double"></i> <span data-i18n="reviewHeader">Review & Submit</span></h2>

                <div class="fee-display">
                    <div class="fee-info">
                        <h4 data-i18n="feeTitle">Application Fee: $50.00</h4>
                        <p data-i18n="feeDesc">This fee is required before review can begin. Our team will contact you immediately after submission to arrange payment.</p>
                    </div>
                    <div class="fee-amount">$50</div>
                </div>

                <div id="summaryContainer" class="summary-section">
                    <div class="summary-grid" id="applicationSummary">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>

                <div class="payment-reminder">
                    <i class="fas fa-clock"></i>
                    <div>
                        <strong data-i18n="paymentReminderTitle">Payment Required Before Review</strong>
                        <p data-i18n="paymentReminderDesc">Your application is not complete until the $50 fee has been paid. Our team will contact you shortly after submission to arrange this.</p>
                    </div>
                </div>

                <div class="verification-reminder">
                    <i class="fas fa-phone-alt"></i>
                    <div>
                        <strong data-i18n="verificationTitle">Verify Your Contact Information</strong>
                        <p data-i18n="verificationDesc">Please confirm your email and phone number are correct. This is how our team will reach you about the $50 fee.</p>
                    </div>
                </div>

                <div class="policy-reminder">
                    <i class="fas fa-info-circle"></i>
                    <span><strong data-i18n="reapplicationPolicyTitle">Reapplication Protection:</strong> <span data-i18n="reapplicationPolicyTextShort">If denied, apply again within 30 days with no new fee. Screening results valid for 60 days.</span></span>
                </div>

                <div class="legal-section">
                    <h3 data-i18n="legalDeclaration">Legal Declaration</h3>

                    <div class="legal-checkbox-group">
                        <div class="custom-checkbox">
                            <input type="checkbox" id="certifyCorrect" required>
                            <label for="certifyCorrect" data-i18n="legalCertify">I certify that the information provided in this application is true and correct to the best of my knowledge.</label>
                        </div>

                        <div class="custom-checkbox">
                            <input type="checkbox" id="authorizeVerify" required>
                            <label for="authorizeVerify" data-i18n="legalAuthorize">I authorize verification of the information provided, including employment, income, and references.</label>
                        </div>

                        <div class="custom-checkbox">
                            <input type="checkbox" id="termsAgree" required>
                            <label for="termsAgree" data-i18n="termsAgreeLabel">I agree to the terms and conditions</label>
                        </div>
                    </div>
                </div>

                <div class="btn-container">
                    <button type="button" class="btn-prev"><i class="fas fa-arrow-left"></i> <span data-i18n="prevStep">Previous</span></button>
                    <button type="submit" class="btn-submit" id="mainSubmitBtn">
                        <span data-i18n="submitBtn">Submit Application</span> <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <p class="submit-disclaimer" data-i18n="submitDisclaimer">By clicking submit, your application will be securely transmitted to Choice Properties.</p>
            </div>
        </form>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo">
                <i class="fas fa-building"></i> <span data-i18n="logoText">Choice Properties</span>
            </div>
            <p>&copy; 2026 Choice Properties. All rights reserved.</p>
            <div class="footer-links">
                <a href="#"><i class="fas fa-shield-alt"></i> <span data-i18n="privacyPolicy">Privacy Policy</span></a>
                <a href="#"><i class="fas fa-file-contract"></i> <span data-i18n="termsOfService">Terms of Service</span></a>
                <a href="#"><i class="fas fa-envelope"></i> <span data-i18n="contactSupport">Contact Support</span></a>
            </div>
            <div class="security-badges">
                <i class="fab fa-stripe" title="Secure Payments"></i>
                <i class="fas fa-user-lock" title="Data Encrypted"></i>
            </div>
            <div class="contact-info">
                <p><i class="fas fa-phone"></i> 707-706-3137 | <i class="fas fa-envelope"></i> choicepropertygroup@hotmail.com</p>
                <p>2265 Livernois, Suite 500, Troy, MI 48083</p>
            </div>
        </div>
    </footer>

    <div class="auto-save-indicator" id="autoSaveIndicator">
        <i class="fas fa-save"></i> <span data-i18n="progressSaved">Progress Saved</span>
    </div>

    <div class="offline-indicator" id="offlineIndicator">
        <i class="fas fa-wifi-slash"></i> <span data-i18n="offlineMessage">You are currently offline. Progress will be saved locally.</span>
    </div>

    <script>
        function copyAppId() {
            const appId = document.getElementById('successAppId').innerText;
            navigator.clipboard.writeText(appId);
            alert('Application ID copied to clipboard');
        }
    </script>
    <script src="js/script.js"></script>

    <!-- Test Fill Button (keep for development) -->
    <div class="test-button-container" id="testButtonContainer">
        <button id="testFillBtn" class="test-fill-btn">
            <i class="fas fa-flask"></i>
            <span>ðŸ§ª Fill Test Data</span>
        </button>
    </div>
</body>
</html>